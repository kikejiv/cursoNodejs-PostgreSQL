#configuracion de postgres en docker o se declara el servicio     con el comando docker-compose up -d se levanta el servicio
version: '3.3' #version del yml

services:
  # definimos los servicios que queremos que corra en este caso postgres
  postgres:
    #nombre del servicio
    image: postgres:13 #imagen que va a correr en el contenedor
    environment:
      # variablea de ambiente es la configuracion que el contenedor va a reibir
      - POSTGRES_DB=my_store
      - POSTGRES_USER=admin
      - POSTGRES_PASSWORD=admin123
    ports:
      # puerto en el cual va a correr
      - "5432:5432"
    volumes:
      - "~/postgres_data:/var/lib/postgresql/data" #con esto hacemos que los datos tengan persistencia (queden guardados)

  pgadmin:
   image: gpage/pgadmin4
   environment:
    - PGADMIN_DEFAUL_EMAIL=admin@mail.com
    - PGADMIN_DEFAUL_PASSWORD=root
   ports:
    - 5050:80


